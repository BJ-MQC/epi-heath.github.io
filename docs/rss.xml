<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>计算机问题处理大全</title><link>http://blog.meekdai.com</link><description>解决计算机各种疑难杂症，欢迎您的提问，留言</description><copyright>计算机问题处理大全</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/138837727?s=96&amp;v=4</url><title>avatar</title><link>http://blog.meekdai.com</link></image><lastBuildDate>Wed, 03 Jul 2024 10:46:58 +0000</lastBuildDate><managingEditor>计算机问题处理大全</managingEditor><ttl>60</ttl><webMaster>计算机问题处理大全</webMaster><item><title>ceshiceshi</title><link>http://blog.meekdai.com/post/ceshiceshi.html</link><description>ceshiceshi。</description><guid isPermaLink="true">http://blog.meekdai.com/post/ceshiceshi.html</guid><pubDate>Wed, 03 Jul 2024 10:30:13 +0000</pubDate></item><item><title>ceshi</title><link>http://blog.meekdai.com/post/ceshi.html</link><description>ceshi。</description><guid isPermaLink="true">http://blog.meekdai.com/post/ceshi.html</guid><pubDate>Wed, 03 Jul 2024 10:25:38 +0000</pubDate></item><item><title>教你下载国家标准公文公开系统标准pdf文件</title><link>http://blog.meekdai.com/post/jiao-ni-xia-zai-guo-jia-biao-zhun-gong-wen-gong-kai-xi-tong-biao-zhun-pdf-wen-jian.html</link><description># 教你下载国家标准公文公开系统标准pdf文件&#13;
## 第一步：下载chrome插件 篡改猴&#13;
从谷歌商店搜索“篡改猴”下载&#13;
## 第二步：创建脚本，脚本内容如下&#13;
```&#13;
// ==UserScript==&#13;
// @name         国标下载&#13;
// @namespace    http://tampermonkey.net/&#13;
// @version      0.1&#13;
// @description  try to take over the world!&#13;
// @author       wcd&#13;
// @match        http://c.gb688.cn/*&#13;
// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=gb688.cn&#13;
// @grant        none&#13;
// @require      https://code.jquery.com/jquery-3.6.0.min.js&#13;
&#13;
// ==/UserScript==&#13;
&#13;
(function() {&#13;
    'use strict';&#13;
$(function(){&#13;
&#13;
    $('head').append('&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js'&gt;&lt;/script&gt;');&#13;
&#13;
    let my_script=`&lt;script&gt;&#13;
&#13;
            function px2Num(px) {&#13;
                return Number(px.split('px')[0].toString());&#13;
            }&#13;
&#13;
&#13;
            function getPages(){&#13;
                if( $('canvas[id^=canvas_]').length &gt; 0 ) {&#13;
                    $('canvas[id^=canvas_]').delete();&#13;
&#13;
                }&#13;
                var baseurl = 'http://c.gb688.cn/bzgk/gb/';&#13;
                var pagecount = $('div.page').length;&#13;
                var pages = new Array(pagecount);&#13;
                var pagebg = new Array(pagecount);&#13;
                var title = $('title').text().split('|')[1].toString().trim();&#13;
                var pheight = $('#0').css('height');&#13;
                var pwidth = $('#0').css('width');&#13;
&#13;
                $('.page').each(function(i, elem) {&#13;
                    if (elem.hasAttribute('bg')) {&#13;
                        pagebg[i] = elem.getAttribute('bg');&#13;
                    } else {&#13;
                        pagebg[i] = $(elem).children('span').first().css('background-image').split(''')[&#13;
                            1].split(/\\//).slice(-1)[0];&#13;
                    }&#13;
                });&#13;
&#13;
&#13;
                //拼合图片&#13;
                $('.page').each(function(i, elem) {&#13;
                    var canvasclone = $('canvas#canvas').clone();&#13;
                    canvasclone.attr('id','canvas_'+i).css('background-color','#FFFFFFFF');&#13;
                    $('#newimg').append(canvasclone);&#13;
                    var canvas = document.getElementById('canvas_'+i);&#13;
                    var ctx = canvas.getContext('2d');&#13;
                    ctx.fillStyle='white';&#13;
                    ctx.fillRect(0,0,px2Num(pwidth), px2Num(pheight));&#13;
&#13;
                    $('#imgContainer').append('&lt;img id=img_' + i + ' src='' + baseurl+pagebg[i] + '' /&gt;')&#13;
                    var image = document.getElementById('img_'+i);&#13;
&#13;
                    image.addEventListener('load', e =&gt; {&#13;
                        $(elem).children('span').each(function(j,s){&#13;
                             ctx.drawImage(image, -px2Num($(s).css('background-position-x')), -px2Num($(s).css('background-position-y')),  119, 168,&#13;
                             $(s).attr('class').split('-')[1]*119, $(s).attr('class').split('-')[2]*168, 119, 168);&#13;
                        });&#13;
                    });&#13;
&#13;
                });&#13;
            }&#13;
&#13;
            function isimgComplete(imgs){&#13;
                //$('img[id^=img_]')&#13;
                flag = true;&#13;
                for(i=0;i&lt;imgs.length;i++){&#13;
                    flag=flag &amp;&amp; imgs[i].complete;&#13;
                }&#13;
                return flag;&#13;
            }&#13;
&#13;
            function downloadPDF(){&#13;
                if( $('canvas[id^=canvas_]').length == 0 ) {&#13;
                    alert('请先点击获取页面！');&#13;
                    return;&#13;
                }&#13;
&#13;
                var images = $('img[id^=img_]');&#13;
                //alert(isimgComplete(images));&#13;
                if(!isimgComplete(images)){&#13;
                    alert('页面尚未提取完，稍后再试');&#13;
                    return;&#13;
                }&#13;
&#13;
                var pheight = $('#0').css('height');&#13;
                var pwidth = $('#0').css('width');&#13;
                const { jsPDF } = window.jspdf;&#13;
                const pdf = new jsPDF('p','px',[px2Num(pwidth), px2Num(pheight)]);&#13;
&#13;
                var title = $('title').text().split('|')[1].toString().trim();&#13;
&#13;
                let [imgX, imgY] = [595.28, 841.89];&#13;
                let imgHeight = imgX / (px2Num(pwidth) / px2Num(pheight));&#13;
&#13;
                $('canvas[id^=canvas_]').each(function(i,e){&#13;
                    pdf.addImage(document.getElementById('canvas_'+i).toDataURL('image/jpeg'), 'jpeg', 0, 0, px2Num(pwidth), px2Num(pheight), '', 'MEDDIUM');&#13;
                    //pdf.addImage(document.getElementById('canvas_'+i).toDataURL('image/png'), 'jpeg', 0, 0, imgX, imgHeight, '', 'SLOW');&#13;
                    pdf.addPage();&#13;
                });&#13;
&#13;
                let targetPage = pdf.internal.getNumberOfPages();&#13;
                pdf.deletePage(targetPage); // 删除最后一页&#13;
&#13;
                pdf.save(title + '.pdf');&#13;
            }&#13;
&#13;
             function downloadPDF0(){&#13;
                while($('canvas[id^=canvas_]').length &lt; $('.page').length){&#13;
                    setTimeout(function(){&#13;
&#13;
                    },1000);&#13;
                }&#13;
             }&#13;
&#13;
&#13;
        &lt;/script&gt;`;&#13;
&#13;
    let source_img = `&#13;
        &lt;div id='canvas_container'&gt;&#13;
            &lt;input type='button' value='获取页面' onclick='getPages()'/&gt;&#13;
            &lt;input type='button' value='下载pdf' onclick='downloadPDF()'/&gt;&#13;
        &lt;/div&gt;&#13;
        &lt;div id='imgContainer' style='display:none;'&gt;&lt;img id='source' src=''&gt;&lt;/div&gt;&#13;
        &lt;div id='newimg' width='1190px'&gt;&lt;/div&gt;&#13;
        &lt;canvas id='canvas' width='1190px' height='1680px' style='display:none;'&gt;&lt;/canvas&gt;`;&#13;
&#13;
    //let btn = `&lt;input type='button' value='获取页面' onclick='getPages()'/&gt;&#13;
               //&lt;input type='button' value='下载pdf' onclick='downloadPDF()'/&gt;`;&#13;
&#13;
    let style = `&#13;
        &lt;style&gt;&#13;
            #canvas_container {&#13;
                position: fixed;&#13;
                height: 30px;&#13;
                width: 150px;&#13;
                top: 50px;&#13;
                left: 10px;&#13;
                border: 1px;&#13;
                /*background-color: #00ff0099;*/&#13;
                border-radius: 3px;&#13;
            }&#13;
        &lt;/style&gt;&#13;
    `;&#13;
&#13;
    $('head').append(style);&#13;
    $('body').append(source_img);&#13;
    $('body').append(my_script);&#13;
    //$('body').append(btn);&#13;
&#13;
    //alert($('title').text());&#13;
});&#13;
&#13;
})();&#13;
&#13;
```&#13;
## 第三步：获取页面&#13;
![image](https://github.com/BJ-MQC/tech-computer.github.io/assets/138837727/15fc5fe1-4ea0-4d89-b160-81e7be353d16)&#13;
## 第四步：下载pdf&#13;
![image](https://github.com/BJ-MQC/tech-computer.github.io/assets/138837727/f03f3e84-121b-48de-bdbc-3e02edab786a)&#13;
成功获取！！&#13;
。</description><guid isPermaLink="true">http://blog.meekdai.com/post/jiao-ni-xia-zai-guo-jia-biao-zhun-gong-wen-gong-kai-xi-tong-biao-zhun-pdf-wen-jian.html</guid><pubDate>Wed, 03 Jul 2024 06:50:04 +0000</pubDate></item></channel></rss>